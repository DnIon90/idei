<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Foaie Pontaj</title>
<style>
body { font-family: Arial, sans-serif; background:#f0f0f0; padding:20px; }
h1 { color:#2e7d32; }
input, select { padding:6px; margin:5px 0; border-radius:4px; border:1px solid #ccc; width:100%; max-width:200px; }
button { padding:6px 12px; background:#2e7d32; color:white; border:none; border-radius:4px; cursor:pointer; margin-top:10px; }
button:hover { background:#1b5e20; }
table { border-collapse: collapse; margin-top:20px; background:white; }
th, td { border:1px solid #ccc; padding:6px 12px; text-align:center; }
th { background:#2e7d32; color:white; }
#total { margin-top:10px; font-weight:bold; }
</style>
</head>
<body>
<h1>Foaie de Pontaj</h1>

<label>Data:</label>
<input type="date" id="work-date">

<label>Ore lucrate:</label>
<input type="number" id="hours-worked" placeholder="Ex: 8" min="0">

<label>Locul de muncÄƒ / Proiect:</label>
<input type="text" id="work-place" placeholder="Ex: Birou / Proiect X">

<label>Plata pe orÄƒ (â‚¬):</label>
<input type="number" id="hourly-rate" placeholder="Ex: 10" min="0">

<button onclick="addEntry()">AdaugÄƒ Zi</button>

<h2>ðŸ“Š Pontaj</h2>
<table>
<thead>
<tr>
<th>#</th>
<th>Data</th>
<th>Ore lucrate</th>
<th>Locul de muncÄƒ</th>
<th>Plata pe orÄƒ (â‚¬)</th>
<th>Total (â‚¬)</th>
</tr>
</thead>
<tbody id="timesheet-table">
</tbody>
</table>
<div id="total">Total Plata: 0 â‚¬</div>

<script>
//=== LocalStorage pentru pontaj ===
const STORAGE_TIMESHEET = 'timesheet_data';

function loadTimesheet() {
  return JSON.parse(localStorage.getItem(STORAGE_TIMESHEET) || '[]');
}

function saveTimesheet(data) {
  localStorage.setItem(STORAGE_TIMESHEET, JSON.stringify(data));
}

function addEntry() {
  const date = document.getElementById('work-date').value;
  const hours = parseFloat(document.getElementById('hours-worked').value) || 0;
  const place = document.getElementById('work-place').value.trim();
  const rate = parseFloat(document.getElementById('hourly-rate').value) || 0;

  if (!date || !hours || !place || !rate) {
    alert("CompleteazÄƒ toate cÃ¢mpurile!");
    return;
  }

  const entry = {
    date: date,
    hours: hours,
    place: place,
    rate: rate,
    total: (hours * rate).toFixed(2)
  };

  const timesheet = loadTimesheet();
  timesheet.push(entry);
  saveTimesheet(timesheet);
  renderTimesheet();
  
  // CurÄƒÈ›are cÃ¢mpuri
  document.getElementById('work-date').value = '';
  document.getElementById('hours-worked').value = '';
  document.getElementById('work-place').value = '';
  document.getElementById('hourly-rate').value = '';
}

function renderTimesheet() {
  const timesheet = loadTimesheet();
  const tbody = document.getElementById('timesheet-table');
  tbody.innerHTML = '';
  let totalPayment = 0;

  timesheet.forEach((entry, index) => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td>${index + 1}</td>
      <td>${entry.date}</td>
      <td>${entry.hours}</td>
      <td>${entry.place}</td>
      <td>${entry.rate}</td>
      <td>${entry.total}</td>
    `;
    tbody.appendChild(tr);
    totalPayment += parseFloat(entry.total);
  });

  document.getElementById('total').textContent = `Total Plata: ${totalPayment.toFixed(2)} â‚¬`;
}

//=== La Ã®ncÄƒrcare paginÄƒ ===
window.onload = () => {
  renderTimesheet();
};
</script>
</body>
</html>